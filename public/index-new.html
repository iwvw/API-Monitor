<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API Monitor</title>
  <link rel="icon" type="image/png" href="/logo.png">
  <link rel="shortcut icon" href="/logo.png">
  <link rel="icon" href="/logo.png" sizes="32x32">
  <meta name="msapplication-TileImage" content="/logo.png">

  <!-- External Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.prod.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Custom Styles -->
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="/css/projects.css">
  <link rel="stylesheet" href="/css/modals.css">
  <link rel="stylesheet" href="/css/dns.css">
  <link rel="stylesheet" href="/css/tables.css">
  <link rel="stylesheet" href="/css/tabs.css">
  <link rel="stylesheet" href="/css/settings.css">
  <link rel="stylesheet" href="/css/logs.css">
</head>

<body>
  <div id="app">
    <!-- é¦–æ¬¡è®¾ç½®å¯†ç ç•Œé¢ -->
    <div v-if="showSetPasswordModal" class="modal-overlay">
      <div class="modal">
        <div class="modal-header">
          <div class="modal-title">ğŸ‰ æ¬¢è¿ä½¿ç”¨</div>
        </div>
        <p style="text-align: center; color: var(--text-secondary); margin-bottom: 24px;">è¯·è®¾ç½®ç®¡ç†å‘˜å¯†ç </p>
        <div class="form-group">
          <input v-model="setPassword" type="password" class="form-input" placeholder="è¯·è¾“å…¥å¯†ç ï¼ˆè‡³å°‘6ä½ï¼‰"
            @keyup.enter="setAdminPassword" />
        </div>
        <div class="form-group">
          <input v-model="setPasswordConfirm" type="password" class="form-input" placeholder="è¯·å†æ¬¡è¾“å…¥å¯†ç "
            @keyup.enter="setAdminPassword" />
        </div>
        <div v-if="setPasswordError" class="form-error">
          {{ setPasswordError }}
        </div>
        <button @click="setAdminPassword" class="btn btn-primary" style="width: 100%;">
          è®¾ç½®å¯†ç 
        </button>
      </div>
    </div>

    <!-- ç™»å½•ç•Œé¢ -->
    <div v-if="showLoginModal" class="modal-overlay">
      <div class="modal">
        <div class="modal-header">
          <div class="modal-title">ğŸ” ç®¡ç†å‘˜ç™»å½•</div>
        </div>
        <div class="form-group">
          <input v-model="loginPassword" type="password" class="form-input" placeholder="è¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç "
            @keyup.enter="verifyPassword" />
        </div>
        <div v-if="loginError" class="form-error">
          {{ loginError }}
        </div>
        <button @click="verifyPassword" class="btn btn-primary" style="width: 100%;">
          ç™»å½•
        </button>
      </div>
    </div>

    <!-- ä¸»åº”ç”¨å†…å®¹ -->
    <div v-if="isAuthenticated" class="container">
      <!-- é¡µé¢å¤´éƒ¨ -->
      <div class="header">
        <div class="title">
          <i class="fas fa-chart-line"></i>
          API Monitor
        </div>
        <div style="display: flex; gap: 10px; align-items: center;">
          <button class="btn btn-secondary icon-only" @click="showSettingsModal = true" title="ç³»ç»Ÿè®¾ç½®">
            <i class="fas fa-cog"></i>
          </button>
        </div>
      </div>

      <!-- ä¸»æ ‡ç­¾é¡µå¯¼èˆª -->
      <div class="main-tabs">
        <button v-if="moduleVisibility.zeabur" class="main-tab" :class="{ active: mainActiveTab === 'zeabur' }" @click="mainActiveTab = 'zeabur'">
          <i class="fas fa-rocket"></i><span> Zeabur</span>
        </button>
        <button v-if="moduleVisibility.dns" class="main-tab dns-tab" :class="{ active: mainActiveTab === 'dns' }" @click="switchToDns">
          <i class="fas fa-cloud"></i><span> CF DNS</span>
        </button>
        <button v-if="moduleVisibility.openai" class="main-tab openai-tab" :class="{ active: mainActiveTab === 'openai' }" @click="switchToOpenai">
          <i class="fas fa-robot"></i><span> OpenAI API</span>
        </button>
      </div>

      <!-- å†…å®¹åŒºåŸŸå°†ç”±Vueæ¸²æŸ“ -->
      <!-- è¿™é‡Œçœç•¥äº†å¤§é‡çš„HTMLæ¨¡æ¿ä»£ç ï¼Œå› ä¸ºå®ƒä»¬å¤ªé•¿äº† -->
      <!-- å®é™…ä½¿ç”¨æ—¶éœ€è¦ä¿ç•™åŸæœ‰çš„æ‰€æœ‰æ¨¡æ¿å†…å®¹ -->

      <div style="text-align: center; padding: 40px; color: var(--text-tertiary);">
        <p>âš ï¸ æ­¤ä¸ºç®€åŒ–ç‰ˆHTMLï¼Œå®Œæ•´ç‰ˆæœ¬è¯·å‚è€ƒåŸ index.html æ–‡ä»¶</p>
        <p>ç”±äºå†…å®¹è¿‡é•¿ï¼Œè¿™é‡Œä»…å±•ç¤ºç»“æ„ä¼˜åŒ–æ–¹æ¡ˆ</p>
      </div>
    </div>

    <!-- Toast æç¤ºå®¹å™¨ -->
    <div v-if="globalToast.show" class="custom-toast" :class="globalToast.type">
      <i class="fas" :class="{
        'fa-check-circle': globalToast.type === 'success',
        'fa-exclamation-circle': globalToast.type === 'error',
        'fa-exclamation-triangle': globalToast.type === 'warning',
        'fa-info-circle': globalToast.type === 'info'
      }"></i>
      <span>{{ globalToast.message }}</span>
    </div>

    <!-- è‡ªå®šä¹‰ç¡®è®¤å¯¹è¯æ¡† -->
    <div v-if="customDialog.show" class="custom-dialog-overlay">
      <div class="custom-dialog">
        <div class="custom-dialog-title">
          <i class="fas" :class="customDialog.icon || 'fa-question-circle'"></i>
          {{ customDialog.title || 'ç¡®è®¤' }}
        </div>
        <div class="custom-dialog-message">{{ customDialog.message }}</div>
        <div class="custom-dialog-buttons">
          <button v-if="customDialog.cancelText" class="btn btn-secondary" @click="customDialog.onCancel ? customDialog.onCancel() : (customDialog.show = false)">
            {{ customDialog.cancelText }}
          </button>
          <button class="btn" :class="customDialog.confirmClass || 'btn-primary'" @click="customDialog.onConfirm">
            {{ customDialog.confirmText || 'ç¡®å®š' }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Application Script -->
  <script src="/js/app.js"></script>
</body>

</html>
