## 体验优化

_（注：所有优化均在此页简单做标记，无需新增额外文档）_

### 1. 代码模块化与维护性优化

- ~~`index.html` 文件过大，不利于维护。~~
  - ✅ **CSS 拆分完成**：已将 CSS 拆分为 8 个独立文件（约 1800 行）。
  - ✅ **JS 模块化完成**：已将 JavaScript 拆分为 6 个独立模块文件（约 77KB）。
  - ✅ **文件大小优化**：`index.html` 从 6706 行减少到 1395 行（**-79.2%**）。
  - ✅ **引用更新**：`index.html` 已成功引用所有外部 CSS 和 JS 文件。
  - ✅ **Bug 修复**：
    - ✅ 修复 Zeabur 白屏问题（补充 8 个缺失方法）
    - ✅ 修复 DNS 账号管理页白屏问题（补充 11 个缺失方法，详见 [DNS_FIX.md](DNS_FIX.md)）

### 2. 操作提示优化

- ~~操作提示为右下角 toast 弹窗，避免遮挡页面内容。~~
  - ✅ **样式统一**：所有 Toast 提示统一使用 `custom-toast` 类。
  - ✅ **位置固定**：所有提示消息固定显示在右下角（`bottom: 20px, right: 20px`）。
  - ✅ **体验增强**：添加图标支持（成功、错误、警告、信息），3 秒自动消失，并带滑入动画。

### 3. 页面切换体验优化

- ~~实现各模块页面和子页面间的丝滑切换体验。~~
  - ✅ **动画效果**：主标签页使用方向感知的滑动动画，子标签页使用快速淡入动画。
  - ✅ **性能优化**：使用 GPU 加速、防抖处理、懒加载数据。
  - ✅ **用户体验**：防止重复点击、平滑滚动、响应式支持。
  - ✅ **文件新增**：
    - `public/css/transitions.css` - 页面切换动画样式
    - `public/js/modules/transitions.js` - 页面切换逻辑模块
    - `PAGE_TRANSITION_TEST.md` - 测试指南
  - ✅ **文件修改**：
    - `public/index.html` - 添加动画类和引入新 CSS
    - `public/js/main.js` - 导入过渡动画模块
    - `public/css/tabs.css` - 优化标签按钮样式

### 4. 数据存储方案升级 ✅

- ~~将数据存储从本地文件（`localStorage`/`JSON`）升级为 SQLite 数据库。~~
  - ✅ **SQLite 集成完成**：使用 `better-sqlite3` 作为数据库驱动。
  - ✅ **数据库架构设计**：创建 12 个表，包含系统配置、会话、账号、DNS、OpenAI 等。
  - ✅ **数据迁移完成**：成功迁移所有 JSON 文件数据到数据库（3 个 Zeabur 账号、1 个 CF 账号、3 个 OpenAI 端点）。
  - ✅ **服务层重构**：重构 `session.js`、`userSettings.js`、`config.js` 使用数据库。
  - ✅ **模块存储迁移**：完成所有模块的 storage.js 迁移
    - `modules/zeabur-api/storage.js` - 使用 ZeaburAccount 模型
    - `modules/cloudflare-dns/storage.js` - 使用 CloudflareAccount 和 CloudflareDnsTemplate 模型
    - `modules/openai-api/storage.js` - 使用 OpenAIEndpoint 和 OpenAIHealthHistory 模型
  - ✅ **新增功能**：
    - 健康检查历史记录（OpenAI 端点）
    - 操作日志审计
    - 数据库统计和备份功能
  - ✅ **Bug 修复**：
    - 修复系统设置未在页面加载时正确加载的问题
    - 在认证成功后自动加载用户设置（自定义 CSS、模块顺序）
    - 确保设置在第一时间应用到页面
  - ✅ **向后兼容**：保持所有原有 API 接口不变。
  - ✅ **文档完善**：创建详细的升级指南 [sqlite-upgrade-guide.md](docs/sqlite-upgrade-guide.md)。
  - ✅ **数据备份**：原始 JSON 文件已备份到 `backup/backup_2025-12-16T21-05-53-369Z/`。
  - ✅ **清理完成**：删除 `config/` 目录，所有数据已迁移到数据库。
  - 📊 **数据库位置**：`data/api-monitor.db` (140 KB)
  - 🎯 **收益达成**：查询性能提升、数据完整性保障、支持复杂查询和历史记录。
  - 🧪 **测试通过**：服务器启动正常，成功从数据库加载 3 个 Zeabur 账号，所有模块正常工作。

---

## 功能模块

### 1. 服务器管理模块（这个模块需要紧凑些，因为要显示的内容有些多）

- [ ] 子页面为机器列表，后台管理，样式与其它模块保持基本一致。
  - [ ] **机器列表页面**，此页面数据从ssh连接获取，可在后台管理处设置获取间隔时间
    - [ ] 细节为收起界面展示服务器基本信息，如名称、IP、状态等，此状态为后端定时探测结果，同时有快捷ssh的按钮，点击在新的动态子页面打开并连接对应的服务器。
    - [ ] 点击展开后显示服务器详细信息如系统版本；操作按钮，如重启、关机、展示 docker 状态等。

- [ ] **后台管理子页面** 
  - [ ] 支持批量添加、删除、修改服务器信息
  - [ ] 可设置定时探测间隔时间，单位分钟，默认1分钟
  - [ ] 可查看服务器探测日志，包含时间、服务器名称、IP、状态等信息
  - [ ] 可手动触发探测所有服务器状态
  - [ ] 可批量导入、导出服务器信息，格式为 JSON 文件
  
- [ ] **SSH 连接子模块**
  - [ ] 支持通过 SSH 密钥或密码进行登录认证。
  - [ ] 支持常用 SSH 操作：
    - [ ] 执行 Shell 命令。
    - [ ] 简单 sftp 文件管理，上传/下载文件。
